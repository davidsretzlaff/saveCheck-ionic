<ion-header>
  <ion-toolbar>
    <ion-title>

      <ion-tab-button  tab="search">
        <ion-icon size="large" name="ios-arrow-round-back"></ion-icon>
      </ion-tab-button>

    </ion-title>
  </ion-toolbar>
</ion-header>
<ion-content class=" background" *ngIf="type == 1">
  <ion-card style="background-color: white;" class="welcome-card">
    <div *ngIf="product?.isVegan && product?.isVeganVerify" class="ion-float-right">
      <img style="width: 90px;" src="{{imageUrl}}/uploads/Vegan(2).png">
    </div>
    <div *ngIf="product?.isCrueltFree && product?.isCrueltFreeVerify && !product?.isVegan && product?.isVeganVerify">
      <img src="{{imageUrl}}/uploads/CF.png">
    </div>
    <!-- <ion-img style="max-width: 120px;" *ngIf="product.productImage != undefined" src="{{imageUrl}}/{{product.productImage}}"></ion-img> -->
    <ion-img *ngIf="product?.productImage != undefined  " style="max-width:180px;"
      src="{{imageUrl}}/{{product?.productImage}}"></ion-img>

    <ion-card-header>
      <ion-card-subtitle>{{product?.brand.name}}</ion-card-subtitle>
      <ion-card-title>{{product?.name}}</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <div *ngIf="product?.barcode != undefined">
        <p>código de barras: {{product?.barcode}}</p>
      </div>
      <div *ngIf="product?.description != undefined">
        <p>{{product?.description}}</p>
      </div>

      <div *ngIf="product?.link != undefined"> <a href="{{product?.link}}">
          <p>Mais Informações sobre {{product?.name}}.</p>
        </a> </div>
      <div *ngIf="product?.linkPeta != undefined"> <a href="{{product?.linkPeta}}">
          <p>Informações Peta.</p>
        </a> </div>

     

        <ion-list style="margin-top:16px;" lines="none">
            <ion-label>Ingredientes</ion-label>
            <ion-item style="height: 25px;" *ngFor="let item of product?.ingredients">
              <ion-label  class="pformat"> {{item.name}}</ion-label>
            </ion-item >
          </ion-list>

          <ion-icon style="margin-top:16px;" class="pointer" slot="icon-only" (click)="teste();" size="large" color="success" name="arrow-dropup">
            </ion-icon>
            <ion-text style="font-size:11px; color: #666; margin-left:3px;">{{product?.like.length}} </ion-text>
      
            <ion-icon class="pointer" slot="icon-only" size="large" color="medium" name="arrow-dropdown"></ion-icon>
            <ion-text style="font-size:11px; color:#666; margin-left:3px;">{{product?.dislike.length}} </ion-text>
            <br />

          <div style="margin-top:5px;"> <a href="/likes/{{product?._id}}">
            <ion-text style="font-size:11px;color:#666; ">
              <p>Ver curtidas</p>
            </ion-text>
          </a> </div>
    </ion-card-content>
  </ion-card>

  <ion-list lines="none">
    <ion-list-header>
      <ion-label>Comentários</ion-label>
    </ion-list-header>
    <ion-item ion-item *ngFor="let item of product?.comments">
      <ion-thumbnail *ngIf="item.productImage == undefined" item-start>
        <img src="{{imageUrl}}/uploads/nophoto.png">
      </ion-thumbnail>
      <ion-label>{{item.user.name}} <p>{{item.description}}</p>
      </ion-label>
    </ion-item>
  </ion-list>
</ion-content>
<!-- brand -->
<ion-content class=" background" *ngIf="type == 2">
  <ion-card  style="background-color: white;" class="welcome-card">
    <div *ngIf="brand?.isVegan " class="ion-float-right">
      <img style="width: 90px;" src="{{imageUrl}}/uploads/Vegan(2).png">
    </div>
    <div *ngIf="brand?.isCrueltFree && !brand?.isVegan">
      <img src="{{imageUrl}}/uploads/CF.png">
    </div>

    <ion-img *ngIf="brand?.brandImage != undefined" style="max-width:180px;" src="{{imageUrl}}/{{brand?.brandImage}}">
    </ion-img>

    <ion-card-header>
      <ion-card-subtitle></ion-card-subtitle>
      <ion-card-title>{{brand?.name}}</ion-card-title>
    </ion-card-header>
    <ion-card-content>

      <div *ngIf="brand?.description != undefined">
        <p>{{brand?.description}}</p>
      </div>

      <div *ngIf="brand?.link != undefined"> <a href="{{brand?.link}}">
          <p>Mais Informações sobre {{brand.name}}.</p>
        </a> </div>
      <div *ngIf="brand?.linkPeta != undefined"> <a href="{{brand?.linkPeta}}">
          <p>Informações Peta.</p>
        </a> </div>

      <ion-icon class="pointer" slot="icon-only" (click)="teste();" size="large" color="success" name="arrow-dropup">
      </ion-icon>
      <ion-text style="font-size:11px; color: #666; margin-left:3px;">{{brand?.like.length}} </ion-text>

      <ion-icon class="pointer" slot="icon-only" size="large" color="medium" name="arrow-dropdown"></ion-icon>
      <ion-text style="font-size:11px; color:#666; margin-left:3px;">{{brand?.dislike.length}} </ion-text>
      <br />
      <div style="margin-top:5px;"> <a href="/likes/{{brand?._id}}">
          <ion-text style="font-size:11px;color:#666; ">
            <p>Ver curtidas</p>
          </ion-text>
        </a> </div>

    </ion-card-content>
  </ion-card>

  <ion-list lines="none">
    <ion-list-header>
      <ion-label>Comentários</ion-label>
    </ion-list-header>
    <ion-item ion-item *ngFor="let item of brand?.comments">
      <ion-thumbnail *ngIf="item.brandImage == undefined" item-start>
        <img src="{{imageUrl}}/uploads/nophoto.png">
      </ion-thumbnail>
      <ion-label>{{item.user.name}} <p>{{item.description}}</p>
      </ion-label>
    </ion-item>
  </ion-list>
</ion-content>